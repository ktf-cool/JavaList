# 线程状态

- [ ] New （新建）
- [ ] Runnable （可运行）
- [ ] Blocked （阻塞）
- [ ] Waiting （等待）
- [ ] Timed Waiting (计时等待)
- [ ] Terminated （终止）

## 一、新建线程

- 当用new操作符创建一个新线程时，如new Thread(r), 这个线程还没有开始运行，这意味着它的状态是新建。当一个线程是新建状态时，程序还没有开始运行线程中的代码。



## 二、可运行线程

- 一旦调用start 方法，线程就处于可运行状态。一个可运行线程可能正在运行，也可能没有运行，由操作系统决定。（正在运行并不是一个单独的状态，一个正在运行的线程仍处于可运行状态）。

> 一旦一个线程开始运行，它不一定始终保持运行，有时需要暂停，让其他线程有机会运行。线程的调度依赖于操作系统提供的服务。抢占式调度系统给每一个可运行线程一个时间片来执行任务，当时间片用完时，操作系统会剥夺该线程的运行权，并给另一个线程一个机会来运行。当选择下一个线程时，操作系统会考虑线程的优先级。



## 三、阻塞和等待线程

- [ ] 当线程处于阻塞或等待状态时，它暂时是不活动的，不运行任何代码且消耗最少的资源，要由线程调度器重新激活这个线程。

- 当一个线程视图获取一个内部的对象锁（而不是`java.util.concurrent`库中的Lock)，而这个锁目前被其他线程占有，该线程就会被阻塞。当所有其他线程都释放了这个锁，并且线程调度器允许该线程持有这个锁时，它将变成非阻塞状态。
- 当前程等待另一个线程通知调度器出现一个条件时，这个线程会进入等待状态。（阻塞状态与等待状态并没有太大的区别）
- 有几个方法有超时参数，调用这些方法会让线程进入**计时等待**状态， 这一状态将一直保持到超时期满或者接收到适当的通知

![](D:\java笔记\Java脑图\线程状态.png)

## 四、终止线程

- run方法正常退出，线程自然终止。
- 因为一个没有捕获的异常终止了run方法，使线程意外终止。

> 具体来说，可以调用线程的stop方法杀死一个线程，该方法抛出一个ThreadDeath错误对象，这会杀死线程，不过，stop方法已经废弃，不要在代码中调用这个方法。