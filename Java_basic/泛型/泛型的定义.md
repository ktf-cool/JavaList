# 泛型的定义

## 一、简单定义泛型类

- **泛型类**就是有一个或多个类型变量的类。如下：

```java
public class Pair<T> {    //泛型类可以有多个类型变量  Pair<T,U> {...}
    
    private T first;
    private T second;   //使用泛型类型指定字段

    public Pair() { first=null;second=null; }

    public Pair(T first, T second) { this.first = first;this.second = second; }

    public T getFirst() {return first; }    //指定返回值

    public T getSecond() { return second;}

    public void setFirst(T newValue){ first = newValue; }   //指定局部变量
   
    public void setSecond(T newVlue){ second = newVlue; }
   
}
```

> 泛型类相当于普通类的工厂，可以实例化泛型类型。



## 二、泛型方法

- 定义一个泛型方法：如下：

```java
class ArrayAlg {
		public static <T> T getMiddle(T ... a){
 				return a[a.length / 2];
		}
}
```

> 这个泛型方法是在普通类中定义的，当然也可以在泛型类中定义。类型变量放在修饰符的后面，返回值的前面。 

- 当调用一个泛型方法是，可以吧具体类型包围在<>中，放在方法名前面：

```java
String middle = ArrayAlg.<String>getMiddle("John","q","Public");
```

> 当然这个类型参数<String>可以省略,编译器会推断出该方法的类型。

## 三、类型变量的限定

- 有时，类或方法需要对类型变量加以约束，如下代码：

```java
class ArrayAlg{
    public static <T> T min(T[] a){
        if (a == null || a.length==0){
            return null;
        }
        T smallest = a[0];
        for (int i = 0; i < a.length; i++) {
            if (smallest.compareTo(a[i]) > 0){
                smallest = a[i];
            }
        }
        return smallest;
    }
}
```

> 看min方法，smallest的类型为T，说明可以为任意一个类的对象，但是怎么知道T所属的类有一个 compareTo方法呢？

- 使用T实现Comparable接口，可以对设置一个限定来实现这一点：

```java
  public static <T extends Comparable> T min(T[] a)...
```

> 实际上，Comparable接口本身就是一个泛型类型，而且你可能会感到奇怪Comparable会使用extends关键字而不是使用 implements关键字，因为使用extends关键字更接近子类型的概念。如果要继承多个可以使用 “&”分隔，而逗号用来分隔类型变量。
