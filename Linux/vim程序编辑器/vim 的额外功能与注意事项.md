# vim 的额外功能与注意事项

## 一、区块选择`（Visual Block）`

- 简单的 `vi` 操作过程中，几乎提到的都是以列为单位的操作。那么如果我想要搞定的是一个区块范围呢？ 举例来说，像下面这种格式的文件：

```
192.168.1.1 host1.class.net
192.168.1.2 host2.class.net
192.168.1.3 host3.class.net
192.168.1.4 host4.class.net
.....中间省略......
```

- 按下 `v` 或者 `V` 或者 `[Ctrl]+v` 时，这个时候光标移动过的地方就会开始反白，这三个按键的意义分别是：

| 区块选择的按键意义 | 作用                                   |
| ------------------ | -------------------------------------- |
| `v`                | 字符选择，会将光标经过的地方反白选择！ |
| `V`                | 列选择，会将光标经过的列反白选择！     |
| `[Ctrl]+v`         | 区块选择，可以用长方形的方式选择数据   |
| `y`                | 将反白的地方复制起来                   |
| `d`                | 将反白的地方删除掉                     |
| `p`                | 将刚刚复制的区块，在光标所在处贴上！   |



## 二、多文件编辑

| 多文件编辑的按键 | 作用                                |
| ---------------- | ----------------------------------- |
| `:n`             | 编辑下一个文件                      |
| `:N`             | 编辑上一个文件                      |
| `:files`         | 列出目前这个 `vim` 的打开的所有文件 |



## 三、多窗口功能

| 多窗口情况下的按键功能                    | 作用                                                         |
| ----------------------------------------- | ------------------------------------------------------------ |
| `:sp[filename]`                           | 打开一个新窗口，如果有加 `filename`， 表示在新窗口打开一个新文件，否则表示两个窗口为同一个文件内容（同步显示）。 |
| `[ctrl]+w+ j`                `[ctrl]+w+↓` | 按键的按法是：先按下 `[ctrl]` 不放， 再按下 `w` 后放开所有的按键，然后再按下 `j` （或向下方向键），则光标可移动到下方的窗口。 |
| `[ctrl]+w+ k`               `[ctrl]+w+↑`  | 同上，不过光标移动到上面的窗口。                             |
| `[ctrl]+w+q`                              | 其实就是 `:q` 结束离开啦！ 举例来说，如果我想要结束下方的窗口，那么利用 `[ctrl]+w+↓` 移动到下方窗口后，按下 `:q` 即可离开， 也可以按下`[ctrl]+w+q` 啊！ |



## 四、vim 的挑字补全功能

| 组合按钮               | 补齐的内容                                                 |
| ---------------------- | ---------------------------------------------------------- |
| `[ctrl]+x -> [ctrl]+n` | 通过目前正在编辑的这个“文件的内容文字”作为关键字，予以补齐 |
| `[ctrl]+x -> [ctrl]+f` | 以当前目录内的“文件名”作为关键字，予以补齐                 |
| `[ctrl]+x -> [ctrl]+o` | 以扩展名作为语法补充，以 `vim` 内置的关键字，予以补齐      |



## 五、vim 环境设置与记录： `~/.vimrc, ~/.viminfo`

- vim 会主动的将你曾经做过的行为登录下来，好让你下次可以轻松的作业，那个记录动作的文件就是： `~/.viminfo` 

| vim 的环境设置参数                  | 作用                                                         |
| ----------------------------------- | ------------------------------------------------------------ |
| `:set nu :set nonu`                 | 就是设置与取消行号啊！                                       |
| `:set hlsearch :set nohlsearch`     | `hlsearch` 就是 high light search（高亮度搜寻）。 这个就是设置是否将搜寻的字串反白的设置值。默认值是 `hlsearch` |
| `:set autoindent :set noautoindent` | 是否自动缩排？`autoindent` 就是自动缩排。                    |
| `:set backup`                       | 是否自动储存备份文件？一般是 `nobackup` 的， 如果设置backup 的话，那么当你更动任何一个文件时，则原始文件会被另存成一个文件名为 filename~ 的文件。 举例来说，我们编辑hosts ，设置 `:set backup` ，那么当更动 `hosts` 时，在同目录下，就会产生 `hosts~` 文件名的文件，记录原始的 `hosts` 文件内容 |
| `:set ruler`                        | 还记得我们提到的右下角的一些状态列说明吗？ 这个 `ruler` 就是在显示或不显示该设置值的啦！ |
| `:set showmode`                     | 这个则是，是否要显示 `--INSERT--` 之类的字眼在左下角的状态列。 |
| `:set backspace=（012）`            | 一般来说， 如果我们按下 i 进入编辑模式后，可以利用倒退键（`backspace`） 来删除任意字符的。 但是，某些 `distribution` 则不许如此。此时，我们就可以通过 backspace 来设置啰～ 当`backspace` 为 2 时，就是可以删除任意值；0 或 1 时，仅可删除刚刚输入的字符， 而无法删除原本就已经存在的文字了！ |
| `:set all`                          | 显示目前所有的环境参数设置值。                               |
| `:set`                              | 显示与系统默认值不同的设置参数， 一般来说就是你有自行变动过的设置参数啦！ |
| `:syntax on :syntax off`            | 是否依据程序相关语法显示不同颜色？ 举例来说，在编辑一个纯文本文件时，如果开头是以 # 开始，那么该列就会变成蓝色。 如果你懂得写程序，那么这个 :syntax on 还会主动的帮你除错呢！但是， 如果你仅是编写纯文本，要避免颜色对你的屏幕产生的干扰，则可以取消这个设置 。 |
| `:set bg=dark :set bg=light`        | 可用以显示不同的颜色色调，默认是“ `light` ”。如果你常常发现注解的字体深蓝色实在很不容易看， 那么这里可以设置为 `dark`喔！试看看，会有不同的样式呢！ |



## 六、中文编码的问题

1.  你的 Linux 系统默认支持的语系数据：这与 `/etc/locale.conf` 有关；
2.  你的终端接口 （`bash`） 的语系： 这与 `LANG, LC_ALL` 这几个变量有关；
3.  你的文件原本的编码；
4.  打开终端机的软件，例如在 `GNOME` 下面的窗口接口。