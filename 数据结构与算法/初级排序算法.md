# 初级排序算法

- 排序算法的目的就是将所有元素的主键按照某种方式排列（通常是按照大小或字母顺序排列）。
- 排序 算法类的模板：

```java
public class Example {
	public static void sort(Comparable[] a) {
		...
	}
	private static boolean less (Comparablep[] a, int i, int j) {
		Comparable t = a[i]; 
		a[i] = a[j];
		a[j] = t;
	}
	private static void show(Comparable[] a) {
		// 在单行中打印数组
		for(int i = 0; i < a.length; i ++ ) {
			StdOut.print(a[i] + " ");
		}
		StdOut.println();
	}
	public static boolean isSorted(Comparable[] a) {
		//测试数组元素是否有序
		for(int i = 1; i < a.length; i++) 
			if(less(a[i], a[i-1])) 
				return false;
			return true;
		}
    public static void main(String[] args) {
        //从标准输入读取字符串，将它们排序并输出
        String[] a = In.readStrings();
        assert isSorted(a);
        show(a);
    }
	
}
```



## 一、选择排序

- 一种简单的排序算法：
  1. 找到数组中最小的那个元素。
  2. 将它和数组的第一个元素交换（如果第一个元素就是最小值那么它就和自己交换）。
  3. 在剩下的元素中找到最小的元素，将它和数组的第二个元素交换。
  4. 如此反复，直到将整个数组排序。

> 对于长度为N的数组，选择排序需要大约`N^2/2`次比较和`N`次交换。

- 排序算法的特点：
  1. 运行时间和输入无关。无论什么顺序的数组排序时间一样长。
  2. 数据移动是最少的。每次交换都会改变两个数组的值，交换次序和数组的大小是线性关系。

- 选择排序代码：

```java
public class Selection {
	public static void sort(Comparable[] a) {
		//将a[]按升序排列
		int N = a.length;   //数组长度
		for(int i = 0; i < N; i++) {
			//将a[i]和a[i+1...N] 中最小的元素交换
			int min = i;
			for(int j = i + 1; j < N; j++) {
				if(less(a[j], a[min]))
                	min = j;
				exch(a, i, min);
			}
		}
	}
}
```



## 二、插入排序

- 为了给插入的元素腾出空间，需要将所有元素在插入之前都向右移动一位，这种排序算法叫做插入排序。

> 当前索引左边的所有元素都是有序的，但是最终位置还不确定，可能会给更小的元素腾出空间。当索引达到数组的右端时，数组排序就完成了。

- 插入排序所需要的的时间取决于输入中元素的初始顺序。

> 1. 对于随机排列的长度为N且主键不重复的数组，平均情况下插入排序需要 `N^2/4`次比较和 `N^2/4`次交换
> 2. 最坏情况下需要 `N^2/2`次比较和 `N^2/2`次交换。
> 3. 最好情况下需要`N -1`次比较和`0`次交换。

- 插入排序对于实际中常见的某些类型的非随机数组很有效。
- 插入排序的代码：

```java
public class Insertion {
	public static void sort(Comparable[] a) {
		//将a[] 按升序排列
		int N = a.length;
		for(int i = 1; i < N; i++ ) {
			//将a[i]插入到a[i-1]、a[i-2]、a[i-3]...之中
			for(int j = i; j > 0 && less(a[j], a[j-1]);j--)
				exch(a, j, j - 1);
		}
	}
}
```



## 三、希尔排序

- 希尔排序为了加快速度简单地改进了插入排序，交换不相邻的元素以对数组的局部进行排序，并最终用插入排序将局部有序的数组排序。

- 实现希尔排序的一种方法是对每个`h`有序数组，用插入排序将`h`个子数组独立的排序。

- 希尔排序代码：

```java
public class Shell {
	public static void sort(Comparable[] a) {
		//将a[]按升序排列
		int N = a.length;
		int h = 1;
		while(h < N/3) 
			h = 3*h + 1;
		while(h >= 1) {
			//将数组变成h有序
			for(int i = h; i < N; i++) {
				//将a[i]插入到a[i-h],a[i-2*h],a[i-3*h]...之中
				for(int j = i; j >= h && less(a[i], a[j-h]); j-= h)
					exch(a, j, j-h);
			}
			h = h/3;
		}
	}
}
```

> 希尔排序比插入排序和选择排序要快的多，并且数组越大，优势越大。

